<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OpenClaw æ¶æ„ä¹‹ç¾ï¼šAlva å¯å€Ÿé‰´çš„è®¾è®¡æ¨¡å¼</title>
<style>
  :root {
    --bg: #faf9f6;
    --surface: #ffffff;
    --border: #e8e5e0;
    --text: #1a1a1a;
    --text-secondary: #6b6560;
    --text-tertiary: #9b9590;
    --accent: #c96442;
    --accent-light: #fdf4f0;
    --code-bg: #1e1e2e;
    --code-text: #cdd6f4;
    --tag-bg: #f0ede8;
    --tag-text: #5a5550;
    --success: #2d8a5e;
    --highlight: #fff8e1;
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --bg: #1a1a1e;
      --surface: #232328;
      --border: #3a3a40;
      --text: #e8e5e0;
      --text-secondary: #9b9590;
      --text-tertiary: #6b6560;
      --accent: #e0825a;
      --accent-light: #2a2220;
      --code-bg: #16161e;
      --code-text: #cdd6f4;
      --tag-bg: #2a2a30;
      --tag-text: #9b9590;
      --highlight: #2a2518;
    }
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Helvetica Neue', sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.7;
    font-size: 15px;
    -webkit-font-smoothing: antialiased;
  }
  .container {
    max-width: 800px;
    margin: 0 auto;
    padding: 48px 24px 80px;
  }

  /* Header */
  .report-header {
    margin-bottom: 48px;
    padding-bottom: 28px;
    border-bottom: 1px solid var(--border);
  }
  .report-header h1 {
    font-size: 32px;
    font-weight: 700;
    letter-spacing: -0.8px;
    margin-bottom: 12px;
    line-height: 1.25;
  }
  .report-header .subtitle {
    font-size: 17px;
    color: var(--text-secondary);
    margin-bottom: 16px;
  }
  .report-meta {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    font-size: 13px;
    color: var(--text-tertiary);
  }

  /* Section headings */
  h2 {
    font-size: 24px;
    font-weight: 700;
    letter-spacing: -0.5px;
    margin: 48px 0 16px;
    padding-top: 24px;
    border-top: 1px solid var(--border);
  }
  h2:first-of-type { border-top: none; padding-top: 0; }
  h3 {
    font-size: 18px;
    font-weight: 600;
    letter-spacing: -0.3px;
    margin: 32px 0 12px;
    color: var(--text);
  }
  h4 {
    font-size: 15px;
    font-weight: 600;
    margin: 16px 0 8px;
    color: var(--accent);
  }

  p { margin-bottom: 12px; }
  ul, ol { margin-bottom: 16px; padding-left: 24px; }
  li { margin-bottom: 4px; }
  strong { font-weight: 600; }
  hr {
    border: none;
    border-top: 1px solid var(--border);
    margin: 32px 0;
  }

  /* Architecture cards */
  .arch-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    margin: 20px 0;
    transition: box-shadow 0.15s;
  }
  .arch-card:hover {
    box-shadow: 0 2px 12px rgba(0,0,0,0.06);
  }
  .arch-card .card-num {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    background: var(--accent);
    color: white;
    border-radius: 50%;
    font-size: 13px;
    font-weight: 700;
    margin-right: 10px;
    flex-shrink: 0;
  }
  .arch-card .card-title {
    font-size: 18px;
    font-weight: 700;
    display: flex;
    align-items: center;
    margin-bottom: 16px;
    letter-spacing: -0.3px;
  }

  /* Code blocks */
  .code-block {
    margin: 16px 0;
    border-radius: 10px;
    overflow: hidden;
  }
  .code-block pre {
    background: var(--code-bg);
    color: var(--code-text);
    padding: 16px;
    font-size: 13px;
    line-height: 1.6;
    font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace;
    overflow-x: auto;
  }

  /* Insight boxes */
  .insight-box {
    background: var(--accent-light);
    border-left: 3px solid var(--accent);
    padding: 16px 20px;
    margin: 16px 0;
    border-radius: 0 8px 8px 0;
    font-size: 14px;
  }
  .insight-box .label {
    font-weight: 700;
    color: var(--accent);
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 6px;
  }

  /* Summary table */
  .summary-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 14px;
  }
  .summary-table th {
    text-align: left;
    font-weight: 600;
    padding: 10px 14px;
    border-bottom: 2px solid var(--border);
    color: var(--text-secondary);
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .summary-table td {
    padding: 10px 14px;
    border-bottom: 1px solid var(--border);
  }
  .summary-table tr:last-child td { border-bottom: none; }

  /* Top 3 */
  .top-pick {
    display: flex;
    gap: 16px;
    align-items: flex-start;
    padding: 20px;
    margin: 16px 0;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
  }
  .top-pick .medal {
    font-size: 32px;
    line-height: 1;
    flex-shrink: 0;
  }
  .top-pick .pick-title {
    font-weight: 700;
    font-size: 16px;
    margin-bottom: 4px;
  }
  .top-pick .pick-desc {
    font-size: 14px;
    color: var(--text-secondary);
  }

  /* Tags */
  .tag {
    display: inline-block;
    background: var(--tag-bg);
    color: var(--tag-text);
    padding: 2px 10px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
    margin-right: 6px;
  }

  /* Footer */
  .report-footer {
    margin-top: 56px;
    padding-top: 20px;
    border-top: 1px solid var(--border);
    font-size: 12px;
    color: var(--text-tertiary);
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 8px;
  }

  /* Collapsible details */
  details {
    margin: 12px 0;
    border: 1px solid var(--border);
    border-radius: 10px;
    overflow: hidden;
    background: var(--surface);
  }
  details summary {
    padding: 12px 18px;
    cursor: pointer;
    font-weight: 600;
    font-size: 14px;
    user-select: none;
    list-style: none;
  }
  details summary::-webkit-details-marker { display: none; }
  details summary::before {
    content: 'â–¸';
    display: inline-block;
    margin-right: 8px;
    transition: transform 0.2s;
    color: var(--text-tertiary);
  }
  details[open] summary::before { transform: rotate(90deg); }
  details .details-body {
    padding: 0 18px 16px;
    font-size: 14px;
    color: var(--text-secondary);
  }

  /* Blockquote */
  blockquote {
    border-left: 3px solid var(--border);
    padding-left: 16px;
    margin: 16px 0;
    color: var(--text-secondary);
    font-style: italic;
  }

  .toc {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px 24px;
    margin-bottom: 40px;
  }
  .toc-title {
    font-weight: 700;
    font-size: 14px;
    margin-bottom: 12px;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .toc a {
    color: var(--text);
    text-decoration: none;
    font-size: 14px;
    display: block;
    padding: 4px 0;
  }
  .toc a:hover { color: var(--accent); }
  .toc .indent { padding-left: 20px; }
</style>
</head>
<body>
<div class="container">

  <div class="report-header">
    <h1>OpenClaw æ¶æ„ä¹‹ç¾</h1>
    <div class="subtitle">Alva å¯å€Ÿé‰´çš„è®¾è®¡æ¨¡å¼ Â· å†…éƒ¨æ·±åº¦åˆ†äº«</div>
    <div class="report-meta">
      <span>ğŸ“… 2026-02-27</span>
      <span>ğŸ“ Alva Team</span>
      <span>ğŸ¤– Prepared by Moss</span>
      <span><span class="tag">Architecture</span><span class="tag">Product</span><span class="tag">Strategy</span></span>
    </div>
  </div>

  <!-- TOC -->
  <div class="toc">
    <div class="toc-title">ç›®å½•</div>
    <a href="#what">ä¸€ã€OpenClaw æ˜¯ä»€ä¹ˆ</a>
    <a href="#arch">äºŒã€ä¸ƒä¸ªæ¶æ„ç¾å­¦</a>
    <a href="#a1" class="indent">1. Gateway as Single Source of Truth</a>
    <a href="#a2" class="indent">2. Workspace = æ–‡ä»¶å³è®°å¿†</a>
    <a href="#a3" class="indent">3. Session Convergence</a>
    <a href="#a4" class="indent">4. Skills = Agent è‡ªå·±è¯»è¯´æ˜ä¹¦</a>
    <a href="#a5" class="indent">5. Multi-Agent Routing</a>
    <a href="#a6" class="indent">6. Compaction + Memory Flush</a>
    <a href="#a7" class="indent">7. Heartbeat + Cron</a>
    <a href="#summary">ä¸‰ã€è®¾è®¡å“²å­¦å¯¹ç…§è¡¨</a>
    <a href="#top3">å››ã€æœ€å…·å¯å‘æ€§çš„ä¸‰ä¸ªè®¾è®¡</a>
    <a href="#closing">äº”ã€æ”¶å°¾</a>
  </div>

  <!-- Section 1 -->
  <h2 id="what">ä¸€ã€OpenClaw æ˜¯ä»€ä¹ˆ</h2>
  <p>OpenClaw æ˜¯ä¸€ä¸ª<strong>è‡ªæ‰˜ç®¡çš„ AI åŠ©æ‰‹ç½‘å…³</strong>â€”â€”ä¸€ä¸ªè·‘åœ¨ä½ è‡ªå·±è®¾å¤‡ä¸Šçš„å•è¿›ç¨‹æœåŠ¡ï¼ŒæŠŠ WhatsAppã€Telegramã€Discordã€iMessage ç­‰å³æ—¶é€šè®¯æ¸ é“ç»Ÿä¸€æ¥å…¥ä¸€ä¸ª AI Agent è¿è¡Œæ—¶ã€‚</p>
  <p>å®ƒä¸æ˜¯ä¸€ä¸ª SaaSï¼Œä¸æ˜¯ä¸€ä¸ªèŠå¤©æœºå™¨äººæ¡†æ¶ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>ä¸ªäºº AI æ“ä½œç³»ç»Ÿçš„æ§åˆ¶å¹³é¢</strong>ã€‚</p>
  <blockquote>ä¸€å¥è¯å®šä½ï¼šæ¶ˆæ¯æ¸ é“æ˜¯å¤–å£³ï¼ŒGateway æ˜¯ä¸­æ¢ï¼ŒAgent + Workspace æ˜¯å¤§è„‘ã€‚</blockquote>

  <!-- Section 2 -->
  <h2 id="arch">äºŒã€ä¸ƒä¸ªå€¼å¾—æ·±ç©¶çš„æ¶æ„ç¾å­¦</h2>

  <!-- Card 1 -->
  <div class="arch-card" id="a1">
    <div class="card-title"><span class="card-num">1</span>Gateway as Single Source of Truth</div>
    <p>OpenClaw çš„æ ¸å¿ƒè®¾è®¡å†³ç­–ï¼š<strong>ä¸€ä¸ªå¸¸é©»è¿›ç¨‹ï¼ˆGatewayï¼‰æ‹¥æœ‰æ‰€æœ‰çŠ¶æ€</strong>ã€‚</p>
    <div class="code-block"><pre>æ‰€æœ‰æ¸ é“ â†’ Gatewayï¼ˆå•è¿›ç¨‹/å•ç«¯å£ï¼‰â†’ Agent Runtime
                 â†“
         Session Store + Config + Cron + Tools</pre></div>
    <ul>
      <li>å•ä¸€å¤šè·¯å¤ç”¨ç«¯å£ï¼šWebSocketï¼ˆæ§åˆ¶/RPCï¼‰ã€HTTP APIï¼ˆOpenAI å…¼å®¹ï¼‰ã€Control UIã€Webhooks å…¨éƒ¨èµ°åŒä¸€ä¸ªç«¯å£</li>
      <li>æ‰€æœ‰ session çŠ¶æ€ç”± Gateway æ‹¥æœ‰ï¼ŒUI å®¢æˆ·ç«¯å¿…é¡»ä» Gateway æŸ¥è¯¢</li>
      <li>Config çƒ­é‡è½½ï¼ˆhybrid æ¨¡å¼ï¼‰ï¼šå®‰å…¨å˜æ›´çƒ­åŠ è½½ï¼Œéœ€é‡å¯çš„è‡ªåŠ¨é‡å¯</li>
    </ul>
    <h4>ä¸ºä»€ä¹ˆä¼˜é›…</h4>
    <p>æ¶ˆé™¤äº†åˆ†å¸ƒå¼çŠ¶æ€åŒæ­¥é—®é¢˜ã€‚å¯¹äºä¸ªäººåŠ©æ‰‹åœºæ™¯ï¼Œå•è¿›ç¨‹ + å•ç«¯å£æ˜¯æ­£ç¡®çš„ç®€åŒ–â€”â€”ä¸éœ€è¦æ¶ˆæ¯é˜Ÿåˆ—ã€æœåŠ¡å‘ç°ã€åˆ†å¸ƒå¼é”ã€‚</p>
    <div class="insight-box">
      <div class="label">Alva å¯å‘</div>
      <p>Playbook Engine å¯ä»¥å€Ÿé‰´"å•ä¸€æ§åˆ¶å¹³é¢"ï¼šç”¨æˆ·çš„æ‰€æœ‰ Playbook/Task/Feed çŠ¶æ€ç”±ç»Ÿä¸€å¼•æ“ç®¡ç†ã€‚æ‰€æœ‰ UIï¼ˆDashboardã€Libraryã€Detail Pageï¼‰ä»åŒä¸€ä¸ªçŠ¶æ€æºè¯»å–ï¼Œé¿å…å‰åç«¯çŠ¶æ€ä¸ä¸€è‡´ã€‚</p>
    </div>
  </div>

  <!-- Card 2 -->
  <div class="arch-card" id="a2">
    <div class="card-title"><span class="card-num">2</span>Workspace = æ–‡ä»¶å³è®°å¿†</div>
    <p>OpenClaw çš„è®°å¿†ç³»ç»Ÿæå…¶ç®€æ´ï¼š</p>
    <div class="code-block"><pre>~/.openclaw/workspace/
â”œâ”€â”€ AGENTS.md      # æ“ä½œæŒ‡ä»¤
â”œâ”€â”€ SOUL.md        # äººæ ¼
â”œâ”€â”€ USER.md        # ç”¨æˆ·ç”»åƒ
â”œâ”€â”€ MEMORY.md      # é•¿æœŸè®°å¿†ï¼ˆMarkdownï¼‰
â”œâ”€â”€ memory/
â”‚   â””â”€â”€ YYYY-MM-DD.md   # æ¯æ—¥æ—¥å¿—
â””â”€â”€ skills/        # æŠ€èƒ½</pre></div>
    <ul>
      <li><strong>æ²¡æœ‰æ•°æ®åº“</strong>ã€‚è®°å¿†å°±æ˜¯ Markdown æ–‡ä»¶</li>
      <li><strong>æ²¡æœ‰ embeddings-first çš„è®¾è®¡</strong>ã€‚å‘é‡æœç´¢æ˜¯å¯é€‰å¢å¼ºå±‚</li>
      <li>Agent æ¯æ¬¡ session å¯åŠ¨æ—¶ï¼Œç³»ç»Ÿæ³¨å…¥è¿™äº›æ–‡ä»¶ä½œä¸º context</li>
      <li>è®°å¿†å†™å…¥ç”± Agent è‡ªå·±é€šè¿‡ write å·¥å…·å®Œæˆâ€”â€”<strong>Agent è‡ªå·±å†³å®šè®°ä»€ä¹ˆ</strong></li>
    </ul>
    <h4>ä¸ºä»€ä¹ˆä¼˜é›…</h4>
    <p>å¯è¯»æ€§ï¼ˆæ‰“å¼€æ–‡ä»¶å¤¹å°±èƒ½çœ‹ AI è®°äº†ä»€ä¹ˆï¼‰ã€å¯ç¼–è¾‘æ€§ï¼ˆç”¨æˆ·ç›´æ¥æ”¹ï¼‰ã€å¯è°ƒè¯•æ€§ï¼ˆcat MEMORY.mdï¼‰ã€å¯ç‰ˆæœ¬æ§åˆ¶ï¼ˆgitï¼‰ã€‚</p>
    <div class="insight-box">
      <div class="label">Alva å¯å‘</div>
      <p>Data Feed å®šä¹‰ã€Task é…ç½®æ˜¯å¦å¯ä»¥æ›´"æ–‡ä»¶ä¼˜å…ˆ"ï¼Ÿè®©ç”¨æˆ·èƒ½ç›´æ¥è¯»æ‡‚ã€ç¼–è¾‘ã€ç‰ˆæœ¬æ§åˆ¶ Playbook é…ç½®ã€‚"Agent è‡ªå·±å†³å®šè®°ä»€ä¹ˆ"å¯åº”ç”¨äº Agentic Research Playbookã€‚</p>
    </div>
  </div>

  <!-- Card 3 -->
  <div class="arch-card" id="a3">
    <div class="card-title"><span class="card-num">3</span>Session Convergenceï¼šè·¨æ¸ é“ä¸Šä¸‹æ–‡å…±äº«</div>
    <div class="code-block"><pre>WhatsApp DM â”€â”
Telegram DM â”€â”€â”¼â”€â”€â†’ agent:main:main ï¼ˆåŒä¸€ä¸ª sessionï¼‰
Discord DM  â”€â”€â”˜

WhatsApp Group A â”€â”€â†’ agent:main:whatsapp:group:A
Discord #general â”€â”€â†’ agent:main:discord:channel:123
Cron Job         â”€â”€â†’ cron:job-id</pre></div>
    <ul>
      <li><strong>æ‰€æœ‰ DM é»˜è®¤æ±‡èšåˆ°ä¸€ä¸ª main session</strong>â€”â€”è·¨æ¸ é“å…±äº«ä¸Šä¸‹æ–‡</li>
      <li>Group chat å¤©ç„¶éš”ç¦»ï¼šæ¯ä¸ªç¾¤/é¢‘é“ç‹¬ç«‹ session</li>
      <li><code>dmScope</code> å¯è°ƒï¼šmain â†’ per-peer â†’ per-channel-peer</li>
      <li>Session è‡ªå¸¦ç”Ÿå‘½å‘¨æœŸï¼šè¿‡æœŸæ¸…ç†ã€transcript å½’æ¡£ã€ç£ç›˜é¢„ç®—</li>
    </ul>
    <h4>ä¸ºä»€ä¹ˆä¼˜é›…</h4>
    <p>DM æ±‡èšè§£å†³äº†çœŸå®ç—›ç‚¹ï¼šåœ¨ WhatsApp ä¸Šè¯´"å¸®æˆ‘æŸ¥ä¸€ä¸‹é‚£ä¸ª"ï¼Œåˆ‡åˆ° Telegram é—®"æŸ¥åˆ°äº†å—ï¼Ÿ"ï¼ŒAI çŸ¥é“ä½ åœ¨è¯´ä»€ä¹ˆã€‚è¿™æ˜¯<strong>"ä¸ªäººåŠ©æ‰‹"è€Œé"èŠå¤©æœºå™¨äºº"</strong>çš„å…³é”®åŒºåˆ«ã€‚</p>
    <div class="insight-box">
      <div class="label">Alva å¯å‘</div>
      <p>ç”¨æˆ·å¯èƒ½åœ¨ Ask é‡Œå¼€å§‹ç ”ç©¶ï¼Œåœ¨ Build é‡Œç»§ç»­ã€‚å¦‚æœä¸Šä¸‹æ–‡èƒ½è‡ªç„¶æµè½¬ï¼ˆAsk session â†’ Playbook è¾“å…¥ï¼‰ï¼Œç”¨æˆ·ä½“éªŒä¼šè´¨å˜ã€‚Session åˆ†çº§éš”ç¦»å¯æ˜ å°„åˆ°æƒé™æ¨¡å‹ã€‚</p>
    </div>
  </div>

  <!-- Card 4 -->
  <div class="arch-card" id="a4">
    <div class="card-title"><span class="card-num">4</span>Skills = Agent è‡ªå·±è¯»è¯´æ˜ä¹¦</div>
    <div class="code-block"><pre>skills/
â””â”€â”€ weather/
    â””â”€â”€ SKILL.md    â† åªæœ‰è¿™ä¸€ä¸ªæ–‡ä»¶æ˜¯å¿…é¡»çš„

# SKILL.md = YAML frontmatter + Markdown è¯´æ˜
---
name: weather
description: Get weather and forecasts via wttr.in
metadata: { "openclaw": { "requires": { "bins": ["curl"] } } }
---
Instructions for the agent...</pre></div>
    <ul>
      <li><strong>æ²¡æœ‰ SDKã€æ²¡æœ‰ API æ³¨å†Œã€æ²¡æœ‰ runtime binding</strong></li>
      <li>Skill ä¸æ˜¯ä»£ç æ¨¡å—â€”â€”æ˜¯<strong>è‡ªç„¶è¯­è¨€è¯´æ˜</strong>ï¼Œå‘Šè¯‰ Agent æ€ä¹ˆç”¨å·¥å…·</li>
      <li>Agent å¼€å§‹æ—¶è¯»æ‰€æœ‰ eligible skill çš„ descriptionï¼ŒæŒ‰éœ€è¯»å®Œæ•´ SKILL.md</li>
      <li>Gatingï¼š<code>requires.bins</code> / <code>requires.env</code> / <code>requires.config</code> åœ¨åŠ è½½æ—¶è¿‡æ»¤</li>
      <li>ä¸‰å±‚ä¼˜å…ˆçº§ï¼šworkspace &gt; managed &gt; bundled</li>
    </ul>
    <h4>ä¸ºä»€ä¹ˆä¼˜é›…</h4>
    <p>æä½åˆ›å»ºé—¨æ§›ï¼ˆå†™ Markdown = åˆ›å»º Skillï¼‰ã€æå¼ºå¯ç»„åˆæ€§ï¼ˆAgent è‡ªå·±åˆ¤æ–­ä½•æ—¶è°ƒç”¨ï¼‰ã€æå¥½å¯è°ƒè¯•æ€§ï¼ˆçœ‹ SKILL.md å°±è¡Œï¼‰ã€‚</p>
    <div class="insight-box">
      <div class="label">Alva å¯å‘ Â· ç›´æ¥å…³è” Tools â†’ Skills é‡æ„</div>
      <p><strong>Skill çš„æœ¬è´¨ä¸æ˜¯ä»£ç ï¼Œæ˜¯"æ•™ Agent æ€ä¹ˆç”¨"çš„è¯´æ˜ã€‚</strong>Alva çš„ Skill = æè¿°ï¼ˆä»€ä¹ˆæ—¶å€™ç”¨ã€è¾“å…¥è¾“å‡ºï¼‰+ SDK ä»£ç æ¨¡å—ã€‚åˆ›å»ºé—¨æ§›åº”æä½ã€‚Gating å¯å‚è€ƒ <code>requires</code> æœºåˆ¶ã€‚</p>
    </div>
  </div>

  <!-- Card 5 -->
  <div class="arch-card" id="a5">
    <div class="card-title"><span class="card-num">5</span>Multi-Agent Routingï¼šä¸€ä¸ªç½‘å…³ï¼Œå¤šä¸ªå¤§è„‘</div>
    <div class="code-block"><pre>{
  "agents": {
    "list": [
      { "id": "main", "workspace": "~/.openclaw/workspace-main" },
      { "id": "coding", "workspace": "~/.openclaw/workspace-coding" }
    ]
  },
  "bindings": [
    { "agentId": "main",   "match": { "channel": "telegram" } },
    { "agentId": "coding", "match": { "channel": "discord", "peer": { "id": "123" } } }
  ]
}</pre></div>
    <ul>
      <li>æ¯ä¸ª Agent å®Œå…¨éš”ç¦»ï¼šç‹¬ç«‹ workspaceã€session storeã€authã€skills</li>
      <li>Routing ç¡®å®šæ€§ï¼šmost-specific winsï¼ˆpeer &gt; guild &gt; account &gt; channel &gt; defaultï¼‰</li>
      <li>å£°æ˜å¼ã€å¯å®¡è®¡ã€å¯çƒ­æ›´æ–°</li>
    </ul>
    <div class="insight-box">
      <div class="label">Alva å¯å‘</div>
      <p>å¤šä¸ª Trading Strategy Playbook ç›‘æ§åŒä¸€èµ„äº§æ—¶çš„äº‹ä»¶/ä¿¡å·è·¯ç”±ã€‚ä¸åŒç±»å‹çš„ Task å¯è·¯ç”±åˆ°ä¸åŒæ‰§è¡Œå¼•æ“ã€‚å£°æ˜å¼è§„åˆ™æ›¿ä»£ç¡¬ç¼–ç é€»è¾‘ã€‚</p>
    </div>
  </div>

  <!-- Card 6 -->
  <div class="arch-card" id="a6">
    <div class="card-title"><span class="card-num">6</span>Compaction + Memory Flushï¼šæœ‰æ„è¯†çš„é—å¿˜</div>
    <div class="code-block"><pre>Context æ¥è¿‘æ»¡
  â†’ è§¦å‘ Memory Flushï¼ˆé™é»˜å†™å…¥æŒä¹…è®°å¿†ï¼‰
    â†’ Compactionï¼ˆå‹ç¼©å†å²ä¸ºæ‘˜è¦ï¼‰
      â†’ ç»§ç»­å¯¹è¯</pre></div>
    <ul>
      <li><strong>Pre-compaction memory flush</strong>ï¼šå‹ç¼©å‰ç»™ Agent ä¸€ä¸ªé™é»˜ turnï¼Œå†™é‡è¦ä¿¡æ¯åˆ° MEMORY.md</li>
      <li><strong>Compaction</strong>ï¼šæ—§å¯¹è¯å‹ç¼©ä¸ºæ‘˜è¦ï¼Œä¿ç•™è¿‘æœŸæ¶ˆæ¯</li>
      <li><strong>Session Pruning</strong>ï¼šåªåœ¨å†…å­˜ä¸­è£å‰ª tool resultsï¼Œä¸å†™ JSONL</li>
    </ul>
    <h4>ä¸ºä»€ä¹ˆä¼˜é›…</h4>
    <p>äººç±»çŸ­æœŸè®°å¿†ä¹Ÿä¼š"å‹ç¼©"æˆé•¿æœŸè®°å¿†ã€‚OpenClaw ç”¨ flush + compaction æ¨¡æ‹Ÿäº†è¿™ä¸ªè¿‡ç¨‹ã€‚<strong>å…³é”®æ´å¯Ÿï¼šå‹ç¼©å‰å…ˆä¿å­˜ï¼Œè€Œä¸æ˜¯å‹ç¼©åè¡¥æ•‘ã€‚</strong></p>
    <div class="insight-box">
      <div class="label">Alva å¯å‘</div>
      <p>Data Feed å†å²æ•°æ®å¯å€Ÿé‰´ compaction æ€è·¯ï¼ˆæ—§æ•°æ®é™é‡‡æ ·ï¼‰ã€‚Agentic Research å¯æœ‰"ç ”ç©¶æ‘˜è¦å‹ç¼©"æœºåˆ¶ã€‚é€šç”¨æ¨¡å¼ï¼šä»»ä½•çŠ¶æ€è½¬æ¢å‰å…ˆä¿å­˜å¿«ç…§ã€‚</p>
    </div>
  </div>

  <!-- Card 7 -->
  <div class="arch-card" id="a7">
    <div class="card-title"><span class="card-num">7</span>Heartbeat + Cronï¼šæœ‰ç•Œè‡ªä¸»æ€§</div>
    <div class="code-block"><pre>Heartbeat â†’ ä¸» sessionï¼Œå…±äº«å¯¹è¯ä¸Šä¸‹æ–‡ï¼ˆé€‚åˆæ‰¹é‡æ£€æŸ¥ï¼‰
Cron     â†’ isolated sessionï¼Œç‹¬ç«‹æ‰§è¡Œï¼ˆé€‚åˆç²¾ç¡®è°ƒåº¦ï¼‰
           å®Œæˆå announce é€šçŸ¥ç”¨æˆ·</pre></div>
    <ul>
      <li><strong>Heartbeat</strong>ï¼šå®šæœŸå”¤é†’ Agent æ£€æŸ¥é‚®ä»¶ã€æ—¥å†ã€å¤©æ°”ç­‰</li>
      <li><strong>Cron</strong>ï¼šç²¾ç¡®å®šæ—¶ä»»åŠ¡ï¼Œå¯ç”¨ä¸åŒæ¨¡å‹ã€ä¸åŒ thinking level</li>
      <li>è‡ªä¸»æ€§æ˜¯<strong>æœ‰ç•Œçš„</strong>â€”â€”åªåšé…ç½®å…è®¸çš„äº‹ï¼Œé€šè¿‡ announce é€šçŸ¥ç”¨æˆ·</li>
    </ul>
    <div class="insight-box">
      <div class="label">Alva å¯å‘</div>
      <p>è¿™æ­£æ˜¯ Playbook çš„æ ¸å¿ƒç†å¿µï¼Heartbeat â†’ è½»é‡å¥åº·æ£€æŸ¥ï¼ˆPlaybook æ­£å¸¸å—ï¼Ÿæ•°æ®æºè¿˜åœ¨å—ï¼Ÿï¼‰ï¼ŒCron â†’ é‡å‹è®¡ç®—ï¼ˆå›æµ‹ã€ä¿¡å·ç”Ÿæˆï¼‰ã€‚</p>
    </div>
  </div>

  <!-- Section 3 -->
  <h2 id="summary">ä¸‰ã€è®¾è®¡å“²å­¦å¯¹ç…§è¡¨</h2>
  <table class="summary-table">
    <thead>
      <tr><th>è®¾è®¡åŸåˆ™</th><th>OpenClaw å®è·µ</th><th>Alva å¯å¯¹æ ‡</th></tr>
    </thead>
    <tbody>
      <tr><td><strong>å•ä¸€æ§åˆ¶å¹³é¢</strong></td><td>Gateway æ‹¥æœ‰æ‰€æœ‰çŠ¶æ€</td><td>Playbook Engine ç»Ÿä¸€ç®¡ç†</td></tr>
      <tr><td><strong>æ–‡ä»¶å³æ¥å£</strong></td><td>Markdown è®°å¿† + SKILL.md</td><td>Feed schema / Playbook config å¯è¯»å¯ç¼–è¾‘</td></tr>
      <tr><td><strong>å£°æ˜å¼è·¯ç”±</strong></td><td>Bindings è§„åˆ™</td><td>Task/Feed ä¾èµ–å›¾</td></tr>
      <tr><td><strong>æœ‰æ„è¯†çš„é—å¿˜</strong></td><td>Compaction + Memory Flush</td><td>æ•°æ®é™é‡‡æ · + ç ”ç©¶æ‘˜è¦</td></tr>
      <tr><td><strong>æœ‰ç•Œè‡ªä¸»æ€§</strong></td><td>Heartbeat + Cron</td><td>Task å®šæ—¶æ‰§è¡Œ + ä¿¡å·é€šçŸ¥</td></tr>
      <tr><td><strong>ä¸‰å±‚è¦†ç›–</strong></td><td>bundled &lt; managed &lt; workspace</td><td>system &lt; shared &lt; user skills</td></tr>
      <tr><td><strong>æä½åˆ›å»ºé—¨æ§›</strong></td><td>å†™ Markdown = åˆ›å»º Skill</td><td>å¯¹è¯ = åˆ›å»º Playbook</td></tr>
    </tbody>
  </table>

  <!-- Section 4 -->
  <h2 id="top3">å››ã€æœ€å…·å¯å‘æ€§çš„ä¸‰ä¸ªè®¾è®¡</h2>

  <div class="top-pick">
    <div class="medal">ğŸ¥‡</div>
    <div>
      <div class="pick-title">Skill = Markdown è¯´æ˜ï¼Œä¸æ˜¯ä»£ç æ¨¡å—</div>
      <div class="pick-desc">ç›´æ¥å…³è” Alva çš„ Tools â†’ Skills é‡æ„ã€‚<strong>Skill çš„æ ¸å¿ƒæ˜¯"æ•™ Agent æ€ä¹ˆç”¨"ï¼Œä¸æ˜¯"ä»£ç æ€ä¹ˆè·‘"</strong>ã€‚è¿™ä¸ªæ€è·¯èƒ½å¤§å¹…é™ä½ç”¨æˆ·åˆ›å»ºå’Œåˆ†äº« Skill çš„é—¨æ§›ã€‚</div>
    </div>
  </div>

  <div class="top-pick">
    <div class="medal">ğŸ¥ˆ</div>
    <div>
      <div class="pick-title">Session Convergenceï¼šè·¨å…¥å£ä¸Šä¸‹æ–‡å…±äº«</div>
      <div class="pick-desc">ç”¨æˆ·å¯èƒ½ä» Ask å¼€å§‹æ¢ç´¢ï¼Œåœ¨ Build é‡Œè½åœ°ã€‚å¦‚æœä¸¤ä¸ªåœºæ™¯çš„ä¸Šä¸‹æ–‡èƒ½è‡ªç„¶æµè½¬ï¼Œç”¨æˆ·ä½“éªŒä¼šè´¨å˜ã€‚</div>
    </div>
  </div>

  <div class="top-pick">
    <div class="medal">ğŸ¥‰</div>
    <div>
      <div class="pick-title">Pre-compaction Memory Flushï¼šå‹ç¼©å‰å…ˆä¿å­˜</div>
      <div class="pick-desc">å¯æ¨å¹¿åˆ° Alva çš„ä»»ä½•"çŠ¶æ€è½¬æ¢"èŠ‚ç‚¹ï¼šTask å‡çº§å‰å…ˆå¿«ç…§ã€Playbook æ”¹ç‰ˆå‰å…ˆå½’æ¡£ã€ç ”ç©¶é˜¶æ®µåˆ‡æ¢å‰å…ˆæ€»ç»“ã€‚</div>
    </div>
  </div>

  <!-- Section 5 -->
  <h2 id="closing">äº”ã€æ”¶å°¾</h2>
  <blockquote>
    OpenClaw è¯æ˜äº†ä¸€ä»¶äº‹ï¼š<strong>å¯¹ä¸ªäººå·¥å…·æ¥è¯´ï¼Œç®€å•ä¸”æ­£ç¡®çš„æ¶æ„ > å¤æ‚ä¸”é€šç”¨çš„æ¶æ„ã€‚</strong>
  </blockquote>
  <p>å•è¿›ç¨‹ã€çº¯æ–‡ä»¶ã€å£°æ˜å¼é…ç½®â€”â€”è¿™äº›"ä¸å¤Ÿé…·"çš„é€‰æ‹©ï¼Œæ°æ°è®©ç³»ç»Ÿå¯é ã€å¯è°ƒè¯•ã€å¯ç†è§£ã€‚</p>
  <p>Alva é¢å‘çš„è™½ç„¶æ˜¯ä¸åŒåœºæ™¯ï¼ˆæŠ•èµ„å·¥å…· vs ä¸ªäººåŠ©æ‰‹ï¼‰ï¼Œä½†æ ¸å¿ƒè¿½æ±‚ä¸€æ ·ï¼š<strong>è®©å¤æ‚çš„ä¸œè¥¿å¯¹ç”¨æˆ·ç®€å•</strong>ã€‚</p>

  <details>
    <summary>ğŸ“ å‚è€ƒèµ„æ–™</summary>
    <div class="details-body">
      <ul>
        <li><a href="https://docs.openclaw.ai">OpenClaw å®˜æ–¹æ–‡æ¡£</a></li>
        <li><a href="https://docs.openclaw.ai/gateway">Gateway Runbook</a></li>
        <li><a href="https://docs.openclaw.ai/concepts/session">Session Management</a></li>
        <li><a href="https://docs.openclaw.ai/concepts/memory">Memory</a></li>
        <li><a href="https://docs.openclaw.ai/concepts/compaction">Compaction</a></li>
        <li><a href="https://docs.openclaw.ai/concepts/multi-agent">Multi-Agent Routing</a></li>
        <li><a href="https://docs.openclaw.ai/tools/skills">Skills</a></li>
        <li><a href="https://docs.openclaw.ai/concepts/agent">Agent Runtime</a></li>
        <li>Alva å†…éƒ¨æ–‡æ¡£ï¼š01-tldr / 03-product-intro / 04-target-users / 06-spec-v2</li>
      </ul>
    </div>
  </details>

  <div class="report-footer">
    <span>Generated by Moss Â· Alva Internal</span>
    <span>2026-02-27</span>
  </div>

</div>
</body>
</html>
